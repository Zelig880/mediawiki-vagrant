/*<?php*/

// Client settings shared by all wikis. The extension must be loaded
// before running this as it overwrites $wgWBClientSettings.
if ( $wgEnableWikibaseClient ) {

	// Settings shared between WikibaseRepo and WikibaseClient â€“
	// keep this section in sync with repo.php.erb
	$wgWBClientSettings['entityNamespaces'] = [
		'item' => NS_MAIN,
		'property' => WB_NS_PROPERTY
	];
	$wgWBClientSettings['specialSiteLinkGroups'][] = 'wikidata';

	// Setting specific to WikibaseClient

	$wgWBClientSettings['siteGlobalID'] = 'enwiki';
	$wgWBClientSettings['changesDatabase'] = 'wikidatawiki';
	$wgWBClientSettings['repoDatabase'] = 'wikidatawiki';
	$wgWBClientSettings['repoNamespaces'] = [
		'item' => '',
		'property' => 'Property'
	];
	$wgWBClientSettings['repoUrl'] = '//wikidata<%= scope['::mediawiki::multiwiki::base_domain'] %><%= scope['::port_fragment'] %>';
	$wgWBClientSettings['repositories'] = [
		'' => [
			'repoDatabase' => 'wikidatawiki',
			'entityNamespaces' => [
				'item' => 0,
				'property' => WB_NS_PROPERTY,
			],
			'prefixMapping' => [ '' => '' ],
			'baseUri' => $wgWBClientSettings['repoUrl'] . '/entity',
		],
	];
}
